" vim:filetype=vim

colorscheme dark

" first run :nativeinstall and do as required 

" This wipes all existing settings. This means that if a setting in this file
" is removed, then it will return to default. In other words, this file serves
" as an enforced single point of truth for Tridactyl's configuration.
sanitize tridactyllocal tridactylsync

" Just use a blank page for new tab. It would be nicer to use the standard
" Firefox homepage, but Tridactyl doesn't support this yet.
" set newtab www.google.com

" Ctrl-F should use the browser's native 'find' functionality.
unbind <C-f>
unbind <C-b>

" But also support Tridactyl search too.
bind / fillcmdline find
bind ? fillcmdline find -?
bind n findnext 1
bind N findnext -1
bind ,<Space>  nohlsearch

" Tab and window management 
bind gd tabdetach 
bind gD composite tabduplicate | tabdetach
bind yt tabduplicate
bind x tabclose

" Smooth scrolling, yes please. This is still a bit janky in Tridactyl.
set smoothscroll true

" The default jump of 10 is a bit much.
bind j scrollline 5
bind k scrollline -5

" K and J should move between tabs. x should close them.
bind J tabprev
bind K tabnext

" Move tabs
bind < tabmove -1
bind > tabmove +1

" Let Ctrl-c to copy in the commandline 
unbind --mode=ex <C-c>

set editorcmd alacritty --class launcher $EDITOR

set putfrom selection
set yankto both

" Open image in feh 
bind ,i composite hint -pipe img src | exclaim_quiet feh
bind ,s source

set searchurls.r   https://old.reddit.com/r/%s
set searchurls.w   https://en.wikipedia.org/w/index.php?search=%s
set searchurls.wd  https://en.wiktionary.org/wiki/?search=%s

bind ;C composite hint -pipe a href | tabopen -c banking
bind ;W composite hint -pipe a href | tabopen -c work
bind ;D composite hint -pipe a href | tabopen -c dev

